<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"><title>从安装Linux to Go到NVIDIA驱动和CUDA | Mitchell Blog</title><meta name="keywords" content="Linux,折腾,CUDA,NVIDIA"><meta name="author" content="Mitchell"><meta name="copyright" content="Mitchell"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#f7f9fe"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-touch-fullscreen" content="yes"><meta name="apple-mobile-web-app-title" content="从安装Linux to Go到NVIDIA驱动和CUDA"><meta name="application-name" content="从安装Linux to Go到NVIDIA驱动和CUDA"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="#f7f9fe"><meta property="og:type" content="article"><meta property="og:title" content="从安装Linux to Go到NVIDIA驱动和CUDA"><meta property="og:url" content="https://miqier.github.io/Linux-Fedora-NVIDIA-CUDA/index.html"><meta property="og:site_name" content="Mitchell Blog"><meta property="og:description" content="Linux to Go 安装到移动硬盘因为电脑系统盘容量不足，同时不想让 Linux 搞乱系统盘，因此选择了类似 Win to Go 的安装方式，将 Linux 系统安装到移动固态硬盘，即插即用的同时还能给 Windows 和 Linux 系统同时保留较大的空间。 发行版的选择作为一个从高中就开始接"><meta property="og:locale" content="zh-CN"><meta property="og:image" content="https://miqier.github.io/Linux-Fedora-NVIDIA-CUDA/Linux-Fedora-NVIDIA-CUDA_0.jpg"><meta property="article:author" content="Mitchell"><meta property="article:tag" content="生活,blog,博客,学习,分享,Hexo,AIGC,技术,Mitchell`s Blog"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://miqier.github.io/Linux-Fedora-NVIDIA-CUDA/Linux-Fedora-NVIDIA-CUDA_0.jpg"><meta name="description" content="Linux to Go 安装到移动硬盘因为电脑系统盘容量不足，同时不想让 Linux 搞乱系统盘，因此选择了类似 Win to Go 的安装方式，将 Linux 系统安装到移动固态硬盘，即插即用的同时还能给 Windows 和 Linux 系统同时保留较大的空间。 发行版的选择作为一个从高中就开始接"><link rel="shortcut icon" href="/./img/box.ico"><link rel="canonical" href="https://miqier.github.io/Linux-Fedora-NVIDIA-CUDA/"><link rel="preconnect" href="//cdn.cbd.int"/><meta name="google-site-verification" content="xxx"/><meta name="baidu-site-verification" content="code-xxx"/><meta name="msvalidate.01" content="xxx"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.cbd.int/@fancyapps/ui@5.0.28/dist/fancybox/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  linkPageTop: undefined,
  peoplecanvas: undefined,
  postHeadAiDescription: undefined,
  diytitle: undefined,
  LA51: undefined,
  greetingBox: {"enable":true,"default":"晚上好👋","list":[{"greeting":"晚安😴","startTime":0,"endTime":5},{"greeting":"早上好鸭👋, 祝你一天好心情！","startTime":6,"endTime":9},{"greeting":"上午好👋, 状态很好，鼓励一下～","startTime":10,"endTime":10},{"greeting":"11点多啦, 在坚持一下就吃饭啦～","startTime":11,"endTime":11},{"greeting":"午安👋, 宝贝","startTime":12,"endTime":14},{"greeting":"🌈充实的一天辛苦啦！","startTime":14,"endTime":18},{"greeting":"19点喽, 奖励一顿丰盛的大餐吧🍔。","startTime":19,"endTime":19},{"greeting":"晚上好👋, 在属于自己的时间好好放松😌~","startTime":20,"endTime":24}]},
  twikooEnvId: 'https://996luoxuhe-anzhiyublogcomments.hf.space',
  commentBarrageConfig:undefined,
  music_page_default: undefined,
  root: '/',
  preloader: {"source":3},
  friends_vue_info: undefined,
  navMusic: true,
  mainTone: undefined,
  authorStatus: {"skills":["🤖️ 数码科技爱好者","🔍 分享与资源收集","🌱 科研领域小萌新","📰 沙雕新闻欢乐多","💻 智慧能源工程师","📷 摄影剪辑初学者","📺 B站有一点粉丝","🎬 电影美剧看不停","🚀 火箭技术热心粉","🎮 人菜枪马仍热爱","🌝 社恐话只熟人说"]},
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简","rightMenuMsgToTraditionalChinese":"转为繁体","rightMenuMsgToSimplifiedChinese":"转为简体"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":330},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    simplehomepage: true,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"copy":true,"copyrightEbable":false,"limitCount":50,"languages":{"author":"作者: Mitchell","link":"链接: ","source":"来源: Mitchell Blog","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。","copySuccess":"复制成功，复制和转载请标注本文地址"}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#425AEF","bgDark":"#1f1f1f","position":"top-center"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.min.js',
      css: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  shortcutKey: undefined,
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  configTitle: 'Mitchell Blog',
  title: '从安装Linux to Go到NVIDIA驱动和CUDA',
  postAI: '',
  pageFillDescription: 'Linux to Go 安装到移动硬盘, 发行版的选择, 安装 Fedora 41, 安装 NVIDIA 驱动, 一、准备环境, 二、下载官方驱动.run包, 三、禁用nouveau开源显卡驱动, 四、安装NVIDIA显卡驱动, 五、重启并验证NVIDIA驱动, 六、重启之后的额外操作, 安装 CUDA, 后记安装到移动硬盘因为电脑系统盘容量不足同时不想让搞乱系统盘因此选择了类似的安装方式将系统安装到移动固态硬盘即插即用的同时还能给和系统同时保留较大的空间发行版的选择作为一个从高中就开始接触的人我首先想到的就是或是它的社区版然而我在几周前看到朋友的深感过去使用的实在是远离现代化且诸多使用习惯与和不同因此我决定尝试一下不同的发行版接着发现实际上并不好用于是将目光转向了其他的发行版最终在一个视频中找到了答案年度盘点发行版终极评测谁是真香谁又惨遭打入冷宫视频中仅为级别因此我最终选择了级别的版本号安装准备一块移动固态硬盘一个至少的盘一台开启安全启动的下载镜像官网继续在上一步的网址中往下拉下载使用将镜像烧录进盘将盘和移动固态硬盘插入电脑重启时进入选择启动项为盘开机时选择无需验证的选项在进入试用系统后点击左上角的将系统安装至移动硬盘注意在设置用户时应当同时设置个人用户和用户不要选错安装位置否则可能抹掉的硬盘拔掉盘重启时进入选择启动项为移动硬盘安装驱动的包管理器是支持的安装包格式为因此需要将常见教程中的指令换为下载安装包时忽略格式中进入纯命令行模式的方式是按安装时若选择中文语言则目录下的下载等文件夹为中文在进入纯命令行模式前需要将下载文件夹中的文件移出否则无法操作中关闭界面的指令为退出纯命令行模式的指令为本节的主要参考为在上安装驱动详细教程及解析次要参考为一准备环境由于构建编译官方提供的包以及需要给签名需要一些工具所以先进行包的安装安装驱动属于系统级别的改动所以以下所有的操作都需要在下进行按进入纯命令行模式登录用户如果出现找不到任何一个包的情况请添加清华源源阿里源等这些并不是冷门的包二下载官方驱动包确定所使用的显卡型号有多种方法可选使用安装方法见使用查看使用查看进入官方页面下载版的驱动驱动下载根据自己的情况选择正确的驱动注意如果你是笔记本显卡可能要选版本操作系统应选择如果显卡填错了会给出错误的显卡驱动会影响显示效果选择推荐驱动认证驱动分支即可注意不同的驱动版本可能对应了不同的版本上限我选择了发布的版本最高支持把下载下来的包移动到目录下由于对的适配力度并没有像那么大所以基本只要下载这一次就好了它一般不会更新所以一次性下载好以后就不需要再访问官网了接下来我们要来查看自己的电脑是否开启了安全启动模式这也是安装驱动里最坑人的地方有种方法可选使用查看使用查看中的安全启动要保持然后进如果已经是那就不用调节如果是也要调成三禁用开源显卡驱动在显卡上如果没有安装闭源驱动那么默认使用的就是开源驱动官网英语是一个自由开放源代码驱动程序是为的所编写也可用于属于系统芯片的高通系列此驱动程序是由一群独立的软件工程师所编写的员工也提供了些微的帮助微软也提供了很大的帮助谷歌也不甘示弱地提供了尽可能多的帮助只是入门级别的显卡驱动也就是仅仅在勉强够用的水平在这种情况下是不能完全发挥显卡的优势的所以我们在安装驱动之前必须禁用它不要慌完全没有驱动的情况下也是能进图形化界面的只是拿硬算会比较卡在禁用模块和启动引导里同时禁用驱动在文件中添加在那一项里加入一句代码若项目中已有其他代码用空格隔开参考效果重新制作启动引导配置文件然后重启查看显卡驱动模块是否被加载重启之后使用以上指令查看显卡驱动模块是否被加载运行指令后没有出现任何返回结果就对了这里必须保证没有任何模块显示出来如果还有那就是失败了四安装显卡驱动从模式切换到纯命令行模式按进入纯命令行模式如果不行尝试将换为或以身份登录停止显示管理器服务在系统中停止服务对于其他系统这一步可能为运行包或是将更换为你的用户名将更换为你的包名运行后在命令行界面会出现的进度条这是在解包进度条读完之后会进入驱动的以蓝色调为主的安装界面此时在构建编译驱动内核模块编译完成后提示是否要给编译好的模块签名目标内核设置了这意味着它支持内核模块上的加密签名在某些系统上内核可能拒绝加载没有来自可信密钥的有效签名的模块此系统还启用了引导当启用安全引导时许多发行版在系统上强制执行模块签名验证是否要签署内核模块我们知道是典型的模块化的宏内核操作系统在加载安装内核模块的时候由于的阻拦我们必须给该模块签名如果不签名则无法加载所以我们这里选择给我们的内核模块签名以免被安全启动阻拦生成签名密钥首次安装时务必选择它会自动生成模块的签名密钥我们将来要把它交给审核非首次安装的时候也就是密钥文件以及存在的情况下可以选择选择这个选项它会提示你输入密钥文件存储的位置删除私有的签名密钥如果你频繁更新内核那么可以选择保留私有密钥在你下一次安装驱动的时候可以选择也就是第四步的时候如果你选择了这个选项实际上它会让你输入密钥的位置这么做其实是比较麻烦的在这个蓝色界面还不能使用查看目录里的文件如果没有把位置背下来那就只能用切换到另一个去查看因此我不建议选择保留直接选择就好下一次我们重新生成一个密钥然后再签名会方便很多做出选择之后此处省略一万字必须将此证书添加到内核信任的密钥数据库中以便内核能够验证模块签名下一步根据以上提示虽然我们一厢情愿地想安装驱动但是和并不领情不相信我们的没有关系这个我们选择第一项就好了选择是否安装位兼容库这里问我们是否要安装位兼容库我们选择就好注册我们最前面已经安装过了以文件的形式存储并能在系统运行过程中动态地加载和卸载由一个用户层的服务器来管理并非由内核来管理当核心需要某模块时由服务器负责把相应的加载当核心的内存资源紧缺时由服务器负责卸载一个没有被使用的这个工具的作用就是动态加载内核模块在的提示下它的大致作用是在你安装新的的时候会自动帮你编译安装驱动模块到你的新内核这里可以选择或者本人测试更新内核的时候在新内核里并没有自动加上驱动这里讲一下选择的情况选择的话就直接进入下一步了选择后会提示错误不要慌虽然它是但它并不会影响你安装驱动我这里建议你把这个提示错误的界面给拍下来等到后面我们还有用的直接就好了没有大碍修改的配置文件选择即可让驱动帮你自动修改和的配置文件就不要自己去改了接下来就已经退出驱动的安装界面了会重新回到命令行界面如果以上步骤和我讲述的不一样直接提示错误导致退出可以重新运行驱动安装包多次尝试安装驱动之后操作这里千万不要直接重启我们还有一些善后事宜要做的确保内核模块已编译确保引导映像已更新手动签名驱动它会提示要你输入一串密码然后这里要记住你输入的密码一会儿要用到它特别是第三步非常重要因为前面提示签名错误我们这里可以手动签名所以前面提示错误也无妨注意如果你没有打开安全启动那么就不需要签名这个步骤驱动也大概不会给你这个文件所以直接跳过就好了输入的那串密码一定要记住很快就要用到了五重启并验证驱动重启之后进入界面重启之后会出现如下界面不要慌根据它的提示按下任意键即可不要一直停留不然界面消失的话我们得在中重复这个步骤然后重启选择选择选择这里要输入刚才记录的密码选择重启六重启之后的额外操作在的主要参考教程中到这里直接使用指令就能看到显卡在正常工作了可是我的情况有所不同可以显示但显存为状态且显存占用为或下面显示系统设置关于本机中显卡型号为没有结果有正常返回看起来是正常现象播放视频时占用很高且外接显示器没有画面所有的现象都表明显卡驱动了但没完全驱动我找得到的解决方式如下关闭中的安全启动修改进入纯命令行模式登录用户在项中添加重启之后正常显示系统设置关于本机的显卡型号正常显示外接显示器正常显示可选项启用视频加速支持安装本节的主要参考系统如何安装保姆级教程年最新本节的次要参考安装出错查看最高支持的版本前往官网这里选择小版本号最高的版本例如我的驱动最高支持那么我可以选择选择正确的系统版本这里注意最后一项选择输入下面给到的命令如果产生错误提示那么将运行命令后面加上安装选项弹出来第一个选择框因为已经安装过的显卡驱动了因此选择会出现下面这个对话框选择摁一下空格取消叉选安装直接选择安装这一步中可以只勾选安装成功配置环境变量在文件末尾添加更新系统环境变量验证是否安装成功输出下图即为成功安装后记之前做项目在上给安装驱动就忙了一整天这次算上安装和折腾前前后后也差不多用了一整天累麻了希望记录下来折腾的过程以后少踩坑吧最后还是想说一句',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2025-10-02 01:26:34',
  postMainColor: '',
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#18171d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#f7f9fe')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 7.3.0"></head><body data-type="anzhiyu"><div id="web_bg"></div><div id="an_music_bg"></div><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><img class="loading-img nolazyload" alt="加载头像" src="/./img/avatar.jpg"/><div class="loading-image-dot"></div></div></div><script>const preloader = {
  endLoading: () => {
    document.getElementById('loading-box').classList.add("loaded");
  },
  initLoading: () => {
    document.getElementById('loading-box').classList.remove("loaded")
  }
}
window.addEventListener('load',()=> { preloader.endLoading() })
setTimeout(function(){preloader.endLoading();},10000)

if (true) {
  document.addEventListener('pjax:send', () => { preloader.initLoading() })
  document.addEventListener('pjax:complete', () => { preloader.endLoading() })
}</script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.10/progress_bar/progress_bar.css"/><script async="async" src="https://cdn.cbd.int/pace-js@1.2.4/pace.min.js" data-pace-options="{ &quot;restartOnRequestAfter&quot;:false,&quot;eventLag&quot;:false}"></script><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><div id="nav-group"><span id="blog_name"><div class="back-home-button"><i class="anzhiyufont anzhiyu-icon-grip-vertical"></i><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">网页</div><div class="back-menu-list"><a class="back-menu-item" href="https://MiQieR.github.io/about/" title="个人简介"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://ooo.0x0.ooo/2024/01/26/OvKRkv.jpg" alt="个人简介"/><span class="back-menu-item-text">个人简介</span></a><a class="back-menu-item" target="_blank" rel="noopener" href="https://space.bilibili.com/32396508" title="B站主页"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://pic.imgdb.cn/item/65b3af5d871b83018a16e135.png" alt="B站主页"/><span class="back-menu-item-text">B站主页</span></a></div></div></div></div><a id="site-name" href="/" accesskey="h"><div class="title">Mitchell Blog</div><i class="anzhiyufont anzhiyu-icon-house-chimney"></i></a><div id="he-plugin-simple"></div><script>var WIDGET = {
  "CONFIG": {
    "modules": "0124",
    "background": "2",
    "tmpColor": "FFFFFF",
    "tmpSize": "16",
    "cityColor": "FFFFFF",
    "citySize": "16",
    "aqiColor": "E8D87B",
    "aqiSize": "16",
    "weatherIconSize": "24",
    "alertIconSize": "18",
    "padding": "10px 10px 10px 10px",
    "shadow": "0",
    "language": "auto",
    "borderRadius": "20",
    "fixed": "true",
    "vertical": "top",
    "horizontal": "left",
    "left": "20",
    "top": "7.1",
    "key": "df245676fb434a0691ead1c63341cd94"
  }
}
</script><link rel="stylesheet" href="https://widget.qweather.net/simple/static/css/he-simple.css?v=1.4.0"/><script src="https://widget.qweather.net/simple/static/js/he-simple.js?v=1.4.0"></script></span><div class="mask-name-container"><div id="name-container"><a id="page-name" href="javascript:anzhiyu.scrollToDest(0, 500)">PAGE_NAME</a></div></div><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 文章</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> 分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 百宝箱</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/link/"><i class="anzhiyufont anzhiyu-icon-link faa-tada" style="font-size: 0.9em;"></i><span> 小工具</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/comments/"><i class="anzhiyufont anzhiyu-icon-envelope faa-tada" style="font-size: 0.9em;"></i><span> 留言板</span></a></li><li><a class="site-page child faa-parent animated-hover" href="javascript:toRandomPost()"><i class="anzhiyufont anzhiyu-icon-shoe-prints1 faa-tada" style="font-size: 0.9em;"></i><span> 随便逛逛</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 我的</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/music/?id=10090931353&amp;server=netease"><i class="anzhiyufont anzhiyu-icon-music faa-tada" style="font-size: 0.9em;"></i><span> 云音乐</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/games/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-game"></use></svg><span> 游戏记忆</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/about/"><i class="anzhiyufont anzhiyu-icon-paper-plane faa-tada" style="font-size: 0.9em;"></i><span> 关于本人</span></a></li></ul></div></div></div><div id="nav-right"><div class="nav-button" id="randomPost_button"><a class="site-page" onclick="toRandomPost()" title="随机前往一个文章" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-dice"></i></a></div><div class="nav-button" id="search-button"><a class="site-page social-icon search" href="javascript:void(0);" title="搜索🔍" accesskey="s"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span> 搜索</span></a></div><input id="center-console" type="checkbox"/><label class="widget" for="center-console" title="中控台" onclick="anzhiyu.switchConsole();"><i class="left"></i><i class="widget center"></i><i class="widget right"></i></label><div id="console"><div class="console-card-group-reward"><ul class="reward-all console-card"><li class="reward-item"><a href="/./img/alipay.jpg" target="_blank"><img class="post-qr-code-img" alt="支付宝" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/./img/alipay.jpg"/></a><div class="post-qr-code-desc">支付宝</div></li></ul></div><div class="console-card-group"><div class="console-card-group-left"><div class="console-card" id="card-newest-comments"><div class="card-content"><div class="author-content-item-tips">互动</div><span class="author-content-item-title"> 最新评论</span></div><div class="aside-list"><span>正在加载中...</span></div></div></div><div class="console-card-group-right"><div class="console-card tags"><div class="card-content"><div class="author-content-item-tips">兴趣点</div><span class="author-content-item-title">寻找你感兴趣的领域</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/AI/" style="font-size: 1.05rem;">AI<sup>4</sup></a><a href="/tags/Android/" style="font-size: 1.05rem;">Android<sup>2</sup></a><a href="/tags/CUDA/" style="font-size: 1.05rem;">CUDA<sup>1</sup></a><a href="/tags/Cloudflare/" style="font-size: 1.05rem;">Cloudflare<sup>1</sup></a><a href="/tags/Git/" style="font-size: 1.05rem;">Git<sup>1</sup></a><a href="/tags/GitHub/" style="font-size: 1.05rem;">GitHub<sup>2</sup></a><a href="/tags/Hackintosh/" style="font-size: 1.05rem;">Hackintosh<sup>1</sup></a><a href="/tags/Hexo/" style="font-size: 1.05rem;">Hexo<sup>4</sup></a><a href="/tags/LLM/" style="font-size: 1.05rem;">LLM<sup>3</sup></a><a href="/tags/Linux/" style="font-size: 1.05rem;">Linux<sup>2</sup></a><a href="/tags/Mac/" style="font-size: 1.05rem;">Mac<sup>1</sup></a><a href="/tags/Markdown/" style="font-size: 1.05rem;">Markdown<sup>1</sup></a><a href="/tags/NAS/" style="font-size: 1.05rem;">NAS<sup>8</sup></a><a href="/tags/NVIDIA/" style="font-size: 1.05rem;">NVIDIA<sup>1</sup></a><a href="/tags/Root/" style="font-size: 1.05rem;">Root<sup>1</sup></a><a href="/tags/Sideload/" style="font-size: 1.05rem;">Sideload<sup>2</sup></a><a href="/tags/Switch/" style="font-size: 1.05rem;">Switch<sup>2</sup></a><a href="/tags/TrollStore/" style="font-size: 1.05rem;">TrollStore<sup>1</sup></a><a href="/tags/Windows/" style="font-size: 1.05rem;">Windows<sup>4</sup></a><a href="/tags/Xposed/" style="font-size: 1.05rem;">Xposed<sup>1</sup></a><a href="/tags/iOS/" style="font-size: 1.05rem;">iOS<sup>2</sup></a><a href="/tags/%E5%89%8D%E7%AB%AF/" style="font-size: 1.05rem;">前端<sup>4</sup></a><a href="/tags/%E5%B5%8C%E5%85%A5%E5%BC%8F/" style="font-size: 1.05rem;">嵌入式<sup>1</sup></a><a href="/tags/%E5%BC%80%E5%8F%91/" style="font-size: 1.05rem;">开发<sup>2</sup></a><a href="/tags/%E5%BC%80%E5%8F%91%E6%9D%BF/" style="font-size: 1.05rem;">开发板<sup>2</sup></a><a href="/tags/%E6%8A%80%E6%9C%AF/" style="font-size: 1.05rem;">技术<sup>1</sup></a><a href="/tags/%E6%8A%98%E8%85%BE/" style="font-size: 1.05rem;">折腾<sup>11</sup></a><a href="/tags/%E6%8D%A1%E5%9E%83%E5%9C%BE/" style="font-size: 1.05rem;">捡垃圾<sup>5</sup></a><a href="/tags/%E6%B5%81%E5%AA%92%E4%BD%93/" style="font-size: 1.05rem;">流媒体<sup>1</sup></a><a href="/tags/%E6%B8%B8%E6%88%8F/" style="font-size: 1.05rem;">游戏<sup>4</sup></a><a href="/tags/%E7%A0%B4%E8%A7%A3/" style="font-size: 1.05rem;">破解<sup>5</sup></a><a href="/tags/%E7%A1%AC%E7%9B%98/" style="font-size: 1.05rem;">硬盘<sup>2</sup></a><a href="/tags/%E7%BD%91%E7%BB%9C/" style="font-size: 1.05rem;">网络<sup>2</sup></a><a href="/tags/%E8%99%9A%E6%8B%9F%E6%9C%BA/" style="font-size: 1.05rem;">虚拟机<sup>1</sup></a><a href="/tags/%E8%B7%AF%E7%94%B1/" style="font-size: 1.05rem;">路由<sup>6</sup></a></div></div><hr/></div></div><div class="console-card history"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-box-archiv"></i><span>文章</span></div><div class="card-archives"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-archive"></i><span>归档</span><a class="card-more-btn" href="/archives/" title="查看更多">
    <i class="anzhiyufont anzhiyu-icon-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/09/"><span class="card-archive-list-date">九月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">2</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/08/"><span class="card-archive-list-date">八月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/04/"><span class="card-archive-list-date">四月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/03/"><span class="card-archive-list-date">三月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">3</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/02/"><span class="card-archive-list-date">二月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/05/"><span class="card-archive-list-date">五月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">2</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/04/"><span class="card-archive-list-date">四月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">2</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/03/"><span class="card-archive-list-date">三月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li></ul></div><hr/></div></div></div><div class="button-group"><div class="console-btn-item"><a class="darkmode_switchbutton" title="显示模式切换" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-moon"></i></a></div><div class="console-btn-item" id="consoleHideAside" onclick="anzhiyu.hideAsideBtn()" title="边栏显示控制"><a class="asideSwitch"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></a></div><div class="console-btn-item" id="consoleMusic" onclick="anzhiyu.musicToggle()" title="音乐开关"><a class="music-switch"><i class="anzhiyufont anzhiyu-icon-music"></i></a></div></div><div class="console-mask" onclick="anzhiyu.hideConsole()" href="javascript:void(0);"></div></div><div class="nav-button" id="nav-totop"><a class="totopbtn" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i><span id="percent" onclick="anzhiyu.scrollToDest(0,500)">0</span></a></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);" title="切换"><i class="anzhiyufont anzhiyu-icon-bars"></i></a></div></div></div></nav><div id="post-info"><div id="post-firstinfo"><div class="meta-firstline"><a class="post-meta-original">原创</a><span class="post-meta-categories"><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-inbox post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%BC%80%E5%8F%91/" itemprop="url">开发</a></span><span class="article-meta tags"><a class="article-meta__tags" href="/tags/Linux/" tabindex="-1" itemprop="url"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>Linux</span></a><a class="article-meta__tags" href="/tags/%E6%8A%98%E8%85%BE/" tabindex="-1" itemprop="url"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>折腾</span></a><a class="article-meta__tags" href="/tags/CUDA/" tabindex="-1" itemprop="url"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>CUDA</span></a><a class="article-meta__tags" href="/tags/NVIDIA/" tabindex="-1" itemprop="url"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>NVIDIA</span></a></span></div></div><h1 class="post-title" itemprop="name headline">从安装Linux to Go到NVIDIA驱动和CUDA</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="anzhiyufont anzhiyu-icon-calendar-days post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" itemprop="dateCreated datePublished" datetime="2025-04-12T17:50:00.000Z" title="发表于 2025-04-13 01:50:00">2025-04-13</time><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-history post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" itemprop="dateCreated datePublished" datetime="2025-10-01T17:26:34.784Z" title="更新于 2025-10-02 01:26:34">2025-10-02</time></span></div><div class="meta-secondline"><span class="post-meta-separator"></span><span class="post-meta-wordcount"><i class="anzhiyufont anzhiyu-icon-file-word post-meta-icon" title="文章字数"></i><span class="post-meta-label" title="文章字数">字数总计:</span><span class="word-count" title="文章字数">4.4k</span><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-clock post-meta-icon" title="阅读时长"></i><span class="post-meta-label" title="阅读时长">阅读时长:</span><span>16分钟</span></span><span class="post-meta-separator">       </span><span class="post-meta-position" title="作者IP属地为中国澳门"><i class="anzhiyufont anzhiyu-icon-location-dot"></i>中国澳门</span><span class="post-meta-separator"></span><span class="post-meta-commentcount"><i class="anzhiyufont anzhiyu-icon-comments post-meta-icon"></i><span class="post-meta-label">评论数:</span><a href="/Linux-Fedora-NVIDIA-CUDA/#post-comment" tabindex="-1"><span id="twikoo-count"><i class="anzhiyufont anzhiyu-icon-spinner anzhiyu-spin"></i></span></a></span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section><div id="post-top-cover"><img class="nolazyload" id="post-top-bg" src="/Linux-Fedora-NVIDIA-CUDA/Linux-Fedora-NVIDIA-CUDA_0.jpg"></div></header><main id="blog-container"><div class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container" itemscope itemtype="https://miqier.github.io/Linux-Fedora-NVIDIA-CUDA/"><header><a class="post-meta-categories" href="/categories/%E5%BC%80%E5%8F%91/" itemprop="url">开发</a><a href="/tags/Linux/" tabindex="-1" itemprop="url">Linux</a><a href="/tags/%E6%8A%98%E8%85%BE/" tabindex="-1" itemprop="url">折腾</a><a href="/tags/CUDA/" tabindex="-1" itemprop="url">CUDA</a><a href="/tags/NVIDIA/" tabindex="-1" itemprop="url">NVIDIA</a><h1 id="CrawlerTitle" itemprop="name headline">从安装Linux to Go到NVIDIA驱动和CUDA</h1><span itemprop="author" itemscope itemtype="http://schema.org/Person">Mitchell</span><time itemprop="dateCreated datePublished" datetime="2025-04-12T17:50:00.000Z" title="发表于 2025-04-13 01:50:00">2025-04-13</time><time itemprop="dateCreated datePublished" datetime="2025-10-01T17:26:34.784Z" title="更新于 2025-10-02 01:26:34">2025-10-02</time></header><h2 id="Linux-to-Go-安装到移动硬盘"><a href="#Linux-to-Go-安装到移动硬盘" class="headerlink" title="Linux to Go 安装到移动硬盘"></a>Linux to Go 安装到移动硬盘</h2><p>因为电脑系统盘容量不足，同时不想让 Linux 搞乱系统盘，因此选择了类似 Win to Go 的安装方式，将 Linux 系统安装到移动固态硬盘，即插即用的同时还能给 Windows 和 Linux 系统同时保留较大的空间。</p>
<h3 id="发行版的选择"><a href="#发行版的选择" class="headerlink" title="发行版的选择"></a>发行版的选择</h3><p>作为一个从高中就开始接触 Linux 的人，我首先想到的就是 Ubuntu 或是它的社区版 Debain。然而我在几周前看到朋友的 Deepin，深感过去使用的 Ubuntu 实在是远离现代化，且诸多使用习惯与 Windows 和 macOS 不同，因此我决定尝试一下不同的发行版。接着发现实际上 Deepin 并不好用，于是将目光转向了其他的发行版，最终在一个视频中找到了答案：<a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1oarzYUER9/">Bilibili - 【年度盘点】2024 Linux发行版终极评测：谁是真香？谁又惨遭打入冷宫？</a></p>
<p>视频中，Ubuntu &#x2F; Debain 仅为 T2 级别，因此我最终选择了 T1 级别的 <a target="_blank" rel="noopener" href="https://fedoraproject.org/spins/kde">Fedora KDE Plasma Desktop</a>，版本号 41。</p>
<h3 id="安装-Fedora-41"><a href="#安装-Fedora-41" class="headerlink" title="安装 Fedora 41"></a>安装 Fedora 41</h3><ol>
<li>准备一块移动固态硬盘，一个至少8GB的U盘，一台BIOS开启安全启动的PC</li>
<li>下载 Fedora KDE Plasma Desktop 镜像： <a class="btn-anzhiyu blue" target="_blank" rel="noopener" href="https://fedoraproject.org/spins/kde/download" 
  title="Fedora官网"><i class="anzhiyufont anzhiyu-icon-circle-arrow-right"></i><span>Fedora官网</span></a></li>
<li>继续在上一步的网址中，往下拉，下载 <strong>Fedora Media Writer</strong></li>
<li>使用 Fedora Media Writer 将镜像烧录进 U盘</li>
<li>将U盘和移动固态硬盘插入电脑，重启时进入BIOS，选择启动项为U盘</li>
<li>开机时选择“无需验证”的选项</li>
<li>在进入 Fedora 试用系统后，点击左上角的 Install Fedora，将系统安装至移动硬盘</li>
<li>注意：在设置用户时，应当同时设置个人用户和 root 用户！（不要选错安装位置，否则可能抹掉 Windows 的硬盘！）</li>
<li>拔掉U盘，重启时进入BIOS，选择启动项为移动硬盘</li>
</ol>
<br/>

<hr>
<h2 id="安装-NVIDIA-驱动"><a href="#安装-NVIDIA-驱动" class="headerlink" title="安装 NVIDIA 驱动"></a>安装 NVIDIA 驱动</h2><blockquote>
<p><strong>Tips:</strong></p>
<ol>
<li>Fedora 的包管理器是 <strong>DNF</strong> (Dandified YUM)，支持的安装包格式为 <strong>.rpm</strong>；因此需要将常见教程中的 apt-get、yum 指令换为 dnf，下载安装包时忽略 .deb 格式。</li>
<li>Fedora 中，进入纯命令行模式的方式是按 <strong>[Alt + Ctrl + F3]</strong> 。</li>
<li>安装 Fedora 41 时，若选择中文语言，则 &#x2F;home&#x2F;[yourUserName]&#x2F; 目录下的下载等文件夹为中文，在进入纯命令行模式前，需要将下载文件夹中的文件移出，否则无法操作。</li>
<li>Fedora KDE中，关闭 GUI 界面的指令为 <code>sudo systemctl stop sddm</code>，退出纯命令行模式的指令为<code>sudo systemctl start sddm</code>。</li>
<li>本节的主要参考为 <a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_61653333/article/details/128883198">CSDN - 在Fedora上安装NVIDIA驱动详细教程及解析</a>；次要参考为 <a target="_blank" rel="noopener" href="https://github.com/oddmario/NVIDIA-Fedora-Driver-Guide">GitHub - oddmario&#x2F;NVIDIA-Fedora-Driver-Guide</a></li>
</ol>
</blockquote>
<h3 id="一、准备环境"><a href="#一、准备环境" class="headerlink" title="一、准备环境"></a>一、准备环境</h3><p>由于构建编译NVIDIA官方提供的run包以及需要给NVIDIA driver签名需要一些工具，所以先进行rpm包的安装。<strong>安装NVIDIA驱动属于系统级别的改动，所以以下所有的操作都需要在root下进行！</strong>按 [Alt + Ctrl + F3] 进入纯命令行模式，登录 root 用户。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">dnf update</span><br><span class="line">dnf install kernel-headers kernel-devel</span><br><span class="line">dnf install kmodtool akmods mokutil openssl dkms</span><br></pre></td></tr></table></figure>

<p>如果出现找不到任何一个rpm包的情况，请添加清华源、ustc源、阿里源等，这些并不是冷门的包。</p>
<h3 id="二、下载官方驱动-run包"><a href="#二、下载官方驱动-run包" class="headerlink" title="二、下载官方驱动.run包"></a>二、下载官方驱动.run包</h3><p><strong>1. 确定所使用的显卡型号，有多种方法可选：</strong></p>
<ol>
<li>使用 <code>neofetch</code>，安装方法见 <a class="btn-anzhiyu blue" target="_blank" rel="noopener" href="https://github.com/dylanaraps/neofetch/wiki/Installation" 
  title="neofetch Wiki"><i class="anzhiyufont anzhiyu-icon-circle-arrow-right"></i><span>neofetch Wiki</span></a></li>
<li>使用 <code>lshw -c video</code> 查看</li>
</ol>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/Linux-Fedora-NVIDIA-CUDA/Linux-Fedora-NVIDIA-CUDA_1.jpg" class="" title="图片">

<ol start="3">
<li>使用 <code>lspci|grep -i vga</code> 查看</li>
</ol>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/Linux-Fedora-NVIDIA-CUDA/Linux-Fedora-NVIDIA-CUDA_2.jpg" class="" title="图片">

<p><strong>2. 进入NVIDIA官方页面下载linux版的驱动</strong></p>
<a class="btn-anzhiyu larger" target="_blank" rel="noopener" href="https://www.nvidia.cn/drivers/lookup/" 
  title="NVIDIA驱动下载"><i class="anzhiyufont anzhiyu-icon-circle-arrow-right"></i><span>NVIDIA驱动下载</span></a>

<p>根据自己的情况选择正确的NVIDIA驱动。注意如果你是笔记本显卡，可能要选notebook版本，操作系统应选择Linux。如果显卡填错了，会给出错误的显卡驱动，会影响显示效果。</p>
<p>选择推荐驱动&#x2F;认证驱动分支即可，注意不同的驱动版本可能对应了不同的CUDA版本上限。我选择了2025-1-16发布的 <code>550.144.03</code> 版本，最高支持 CUDA 12.4</p>
<p>把下载下来的run包移动到 <code>/home/[yourUserName]/</code>目录下。由于NVIDIA对LInux的适配力度并没有像WIndows那么大，所以基本只要下载这一次就好了，它一般不会更新，所以一次性下载好以后就不需要再访问NVDIA官网了。</p>
<p><strong>3. 接下来我们要来查看自己的电脑BIOS是否开启了安全启动模式，这也是linux安装nvidia驱动里最坑人的地方。有2种方法可选：</strong></p>
<ol>
<li>使用 <code>mokutil --sb-state</code> 查看</li>
</ol>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/Linux-Fedora-NVIDIA-CUDA/Linux-Fedora-NVIDIA-CUDA_3.jpg" class="" title="图片">

<ol start="2">
<li>使用 <code>dmesg |grep -E &#39;secureboot&#39; </code> 查看</li>
</ol>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/Linux-Fedora-NVIDIA-CUDA/Linux-Fedora-NVIDIA-CUDA_4.jpg" class="" title="图片">

<p>BIOS 中的安全启动要保持enable然后进Fedora，如果已经是enable那就不用调节；如果是disable,也要调成enable</p>
<h3 id="三、禁用nouveau开源显卡驱动"><a href="#三、禁用nouveau开源显卡驱动" class="headerlink" title="三、禁用nouveau开源显卡驱动"></a>三、禁用nouveau开源显卡驱动</h3><p>在NVIDIA显卡上如果没有安装闭源驱动，那么默认使用的就是nouvea开源驱动。</p>
<a class="btn-anzhiyu larger" target="_blank" rel="noopener" href="https://nouveau.freedesktop.org/" 
  title="nouveau官网"><i class="anzhiyufont anzhiyu-icon-circle-arrow-right"></i><span>nouveau官网</span></a>

<p><strong>nouveau</strong>(英语：&#x2F;nuːˈvoʊ&#x2F; 是一个自由开放源代码GPU驱动程序，是为Nvidia的GPU所编写，也可用于属于系统芯片的高通系列，此驱动程序是由一群独立的软件工程师所编写，Nvidia的员工也提供了些微的帮助，微软也提供了很大的帮助，谷歌也不甘示弱地提供了尽可能多的帮助。</p>
<p>nouveau只是入门级别的显卡驱动，也就是仅仅在勉强够用的水平，在这种情况下是不能完全发挥nvidia显卡的优势的。</p>
<p>所以我们在安装nvidia驱动之前必须禁用它，不要慌，完全没有nvidia驱动的情况下也是能进图形化界面的，只是拿CPU硬算会比较卡。</p>
<p><strong>1. 在禁用模块和启动引导里同时禁用nouveau驱动</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">dnf install vim</span><br><span class="line">vim /etc/modprobe.d/blacklist.conf</span><br><span class="line"></span><br><span class="line">在文件中添加：</span><br><span class="line">blacklist nouveau</span><br><span class="line">options nouveau modeset=0</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/default/grub</span><br><span class="line"> </span><br><span class="line">在GRUB_CMDLINE_LINUX那一项里加入一句代码，若项目中已有其他代码，用空格隔开：</span><br><span class="line">rd.driver.blacklist=nouveau nouveau.modeset=0</span><br></pre></td></tr></table></figure>

<p>参考效果：</p>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/Linux-Fedora-NVIDIA-CUDA/Linux-Fedora-NVIDIA-CUDA_5.jpg" class="" title="图片">

<p> <strong>2. 重新制作启动引导配置文件，然后重启</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">grub2-mkconfig -o /boot/grub2/grub.cfg</span><br><span class="line">reboot</span><br></pre></td></tr></table></figure>

<p><strong>3. 查看nouveau显卡驱动模块是否被加载</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lsmod|grep nouveau</span><br></pre></td></tr></table></figure>

<p>重启之后使用以上指令查看nouveau显卡驱动模块是否被加载，运行指令后没有出现任何返回结果就对了！ </p>
<p>这里必须保证没有任何模块显示出来，如果还有那就是失败了。</p>
<h3 id="四、安装NVIDIA显卡驱动"><a href="#四、安装NVIDIA显卡驱动" class="headerlink" title="四、安装NVIDIA显卡驱动"></a>四、安装NVIDIA显卡驱动</h3><p><strong>1. 从GUI模式切换到纯命令行模式</strong></p>
<p>按 [Alt + Ctrl + F3] 进入纯命令行模式，如果不行，尝试将 F3 换为 F1 或 F2。</p>
<p>以 root 身份登录。</p>
<p><strong>2. 停止显示管理器（SDDM）服务</strong></p>
<p>在 Fedora KDE 系统中，停止 SDDM 服务：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl stop sddm</span><br></pre></td></tr></table></figure>

<p>对于其他系统，这一步可能为：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo service lightdm stop</span><br><span class="line">sudo service gdm stop</span><br><span class="line">sudo service kdm stop</span><br></pre></td></tr></table></figure>

<p><strong>3. 运行 .run 包</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /home/[yourUserName]/</span><br><span class="line"><span class="comment"># 或是 cd ~</span></span><br><span class="line"><span class="comment"># 将[yourUserName]更换为你的用户名</span></span><br><span class="line"><span class="built_in">ls</span></span><br><span class="line"><span class="built_in">chmod</span> +x NVIDIA-Linux-x86_64-550.144.03.run</span><br><span class="line"><span class="comment"># 将[NVIDIA-Linux-x86_64-525.85.05.run]更换为你的.run包名</span></span><br><span class="line">./NVIDIA-Linux-x86_64-550.144.03.run</span><br></pre></td></tr></table></figure>

<p><strong>4. 运行后在命令行界面会出现…..的进度条</strong></p>
<p>Uncompress NVIDIA driver 这是在解包</p>
<p><strong>5. 进度条读完之后会进入NVIDIA驱动的以蓝色调为主的安装界面</strong></p>
<p>Building kernel modules 此时在构建编译NVIDIA驱动linux内核模块。编译完成后 “<strong>Continue</strong>“。</p>
<p><strong>6. 提示是否要给编译好的NVIDIA 模块签名</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">The target kernel has CONFIG_MODULE_SIG set which means that it supports cryptographic signatures on kernel modules.On some systems,the kernel may refuse to load modules without a valid signature from a trusted key.This system also has UEFI Boot enabled; many distributions enforce module signature verification on UEFI systems when Secure Boot is enabled. Would you like to sign the NVIDIA kernel module?</span><br><span class="line"></span><br><span class="line">select:</span><br><span class="line"></span><br><span class="line">        Sign the kernel module     or     Install without signing</span><br></pre></td></tr></table></figure>

<blockquote>
<p>目标内核设置了CONFIG_MODULE_SIG，这意味着它支持内核模块上的加密签名。在某些系统上，内核可能拒绝加载没有来自可信密钥的有效签名的模块。此系统还启用了UEFI引导；当启用安全引导时，许多发行版在UEFI系统上强制执行模块签名验证。是否要签署NVIDIA内核模块？</p>
</blockquote>
<p>我们知道，linux是典型的模块化的宏内核操作系统，在加载安装nvidia内核模块的时候由于Uefi Secure Boot的阻拦，我们必须给该模块签名，如果不签名则无法加载。</p>
<p>所以我们这里选择 “<strong>Sign the kernel module</strong>”，给我们的NVIDIA内核模块签名以免被安全启动阻拦。</p>
<p><strong>7. 生成签名密钥</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Would tou like to sign the NVIDIA kernel module with an existing key pair,or would you like to generate a new one?</span><br><span class="line"></span><br><span class="line">select:</span><br><span class="line"></span><br><span class="line">        Use an existing key pair     or     Generate a new key pair</span><br></pre></td></tr></table></figure>

<p>首次安装时务必选择 “<strong>Genrate a new key pair</strong>”，它会自动生成NVIDIA模块的签名密钥，我们将来要把它交给UEFI Secure Boot审核。非首次安装的时候，也就是密钥文件以及存在的情况下，可以选择“Use an existing key pair ”，选择这个选项，它会提示你输入密钥文件存储的位置。</p>
<p><strong>8. 删除私有的签名密钥</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">The NVIDIA kernel module was successfully signed with a newly generated key pair .Would you like to delete the private signing key?</span><br><span class="line"></span><br><span class="line">select:</span><br><span class="line"></span><br><span class="line">        Yes     or     No</span><br></pre></td></tr></table></figure>

<p>如果你频繁更新内核，那么可以选择保留私有密钥，在你下一次安装NVIDIA驱动的时候可以选择“<strong>Use an existing key pair”，</strong>也就是第四步的时候，如果你选择了这个选项，实际上它会让你输入密钥的位置。这么做其实是比较麻烦的，在这个蓝色界面还不能使用Tab查看目录里的文件，如果没有把位置背下来，那就只能用Ctrl+Alt+Fn切换到另一个tty去查看，因此我不建议选择保留。<strong>直接选择 Yes 就好</strong>，下一次我们重新生成一个密钥，然后再签名会方便很多。</p>
<p><strong>9. 做出选择之后</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">An X.509 certificate containing the public signing key will be installed to /usr/share/nvidia/nvidia*.der ..............此处省略一万字..............</span><br><span class="line"></span><br><span class="line">This certificate must be added to a key database which is trusted by your kernel in order for the kernel to be able to verify the module signature.</span><br><span class="line"></span><br><span class="line">select:</span><br><span class="line"></span><br><span class="line">        OK</span><br></pre></td></tr></table></figure>

<blockquote>
<p>必须将此证书添加到内核信任的密钥数据库中，以便内核能够验证模块签名</p>
</blockquote>
<p><strong>10. 下一步</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">The signed kernel nodule failed to load. Secure boot is enabled on this system, so this is likely because the kernel does not trust any key which is capable of verifying the module signature. Would you like to install the signed kernel</span><br><span class="line">module anyway?</span><br><span class="line"></span><br><span class="line">Note that if this module loading failure is due to the lack of a trusted signature, you will not be able to load the installed module until after a key that can verify the module signature is added to a key database that is trusted by</span><br><span class="line">the kernel. This will likely require rebooting your computer.</span><br><span class="line"></span><br><span class="line">        install signed kernel module            Abort installation</span><br></pre></td></tr></table></figure>

<p>根据以上提示，虽然我们一厢情愿地想安装NVIDIA驱动.但是Linux kernel和UEFI Secure Boot并不领情,不相信我们的NVIDIA kernel modules sign.没有关系，这个我们选择第一项 “<strong>Install signed kernel module</strong>” 就好了。</p>
<p><strong>11. 选择是否安装NVIDIA 32位兼容库</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Install NVIDIA&#x27;s 32-bit compatibility libraries?</span><br><span class="line"></span><br><span class="line">                 Yes                    No</span><br></pre></td></tr></table></figure>

<p>这里问我们是否要安装NVIDIA 32位兼容库，我们选择 “<strong>Yes</strong>“ 就好。 </p>
<p><strong>12. 注册DKMS</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Would you like to register the kernel module sources with DKMS? This will allow DKMS to automatically build a new module, if your kernel changes later.</span><br><span class="line"></span><br><span class="line">                 Yes                    No</span><br></pre></td></tr></table></figure>

<p> dkms我们最前面已经安装过了。</p>
<blockquote>
<p>DKMs以文件的形式存储并能在系统运行过程中动态地加载和卸载。DKMs由一个用户层的DKM服务器来管理，并非由内核来管理。当核心需要某模块时，由DKM服务器负责把相应的DKM加载；当核心的内存资源紧缺时，由DKM服务器负责卸载一个没有被使用的DKM。</p>
</blockquote>
<p>dkms这个工具的作用就是动态加载内核模块，在NVIDIA的提示下，它的大致作用是在你安装新的linux kernel的时候dkms会自动帮你编译安装nvidia驱动模块到你的新内核。这里可以选择Yes或者No,本人测试更新内核的时候，在新内核里并没有自动加上nvidia驱动。这里讲一下选择Yes的情况，选择No的话就直接进入下一步了。</p>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/Linux-Fedora-NVIDIA-CUDA/Linux-Fedora-NVIDIA-CUDA_6.jpg" class="" title="图片">

<p> 选择Yes后会提示错误，不要慌，虽然它是ERROR,但它并不会影响你安装NVIDIA驱动。我这里建议你把这个提示错误的界面给拍下来，等到后面我们还有用的。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">WARNING: Failed to register the NVIDIA kernel modules with DKMS. The NVIDIA kernel modules were installed, but will not be automatically rebuilt if you change your kernel.</span><br><span class="line"></span><br><span class="line">            OK</span><br></pre></td></tr></table></figure>

<p> 直接OK就好了，没有大碍。</p>
<p><strong>13. 修改X的配置文件</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Your X configuration file has been successfully updated. Installation of the NUIDIA Accelerated Graphics Driver for Linux-X86_64 (version: 550.144.03) is now complete.</span><br></pre></td></tr></table></figure>

<p>选择Yes即可，让NVIDIA驱动帮你自动修改X和grub2的配置文件，就不要自己去改了。</p>
<p>接下来就已经退出NVIDIA驱动的安装界面了，会重新回到命令行界面，如果以上步骤和我讲述的不一样直接提示错误导致退出，可以重新运行NVIDIA驱动安装包，多次尝试。</p>
<p><strong>14. 安装NVIDIA驱动之后操作</strong></p>
<p>这里千万不要直接重启，我们还有一些善后事宜要做的。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">akmods --force <span class="comment">#确保内核模块已编译</span></span><br><span class="line">dracut --force <span class="comment">#确保引导映像已更新</span></span><br><span class="line">mokutil --import /usr/share/nvidia/nvidia*.der <span class="comment">#手动签名NVIDIA驱动</span></span><br><span class="line">它会提示要你输入一串密码，然后again，这里要记住你输入的密码，一会儿要用到它</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">grub2-mkconfig -o /boot/grub2/grub.cfg</span><br><span class="line">reboot</span><br></pre></td></tr></table></figure>

<p>特别是第三步，非常重要，因为前面提示签名错误，我们这里可以手动签名，所以前面提示错误也无妨。注意：如果你没有打开安全启动，那么就不需要签名这个步骤，NVIDIA驱动也大概不会给你这个.der文件，所以直接跳过mokutil就好了。</p>
<p>输入的那串密码一定要记住，很快就要用到了。</p>
<h3 id="五、重启并验证NVIDIA驱动"><a href="#五、重启并验证NVIDIA驱动" class="headerlink" title="五、重启并验证NVIDIA驱动"></a>五、重启并验证NVIDIA驱动</h3><p><strong>1. 重启之后进入界面</strong></p>
<p>重启之后会出现如下界面，不要慌，<strong>根据它的提示按下任意键即可</strong>。不要一直停留，不然界面消失的话，<strong>我们得在linux中重复 <code>mokutil --import /usr/share/nvidia/nvidia*.der</code> 这个步骤然后重启。</strong></p>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/Linux-Fedora-NVIDIA-CUDA/Linux-Fedora-NVIDIA-CUDA_7.jpg" class="" title="图片">

<p><strong>2. 选择“Enroll MOK”</strong></p>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/Linux-Fedora-NVIDIA-CUDA/Linux-Fedora-NVIDIA-CUDA_8.jpg" class="" title="图片">

<p><strong>3. [Enroll MOK]  选择 Continue</strong></p>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/Linux-Fedora-NVIDIA-CUDA/Linux-Fedora-NVIDIA-CUDA_9.jpg" class="" title="图片">

<p><strong>4. Enroll the key(s)?  选择Yes</strong></p>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/Linux-Fedora-NVIDIA-CUDA/Linux-Fedora-NVIDIA-CUDA_10.jpg" class="" title="图片">

<p><strong>5. 这里要输入刚才记录的密码</strong></p>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/Linux-Fedora-NVIDIA-CUDA/Linux-Fedora-NVIDIA-CUDA_11.jpg" class="" title="图片">

<p><strong>6. 选择Reboot重启</strong></p>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/Linux-Fedora-NVIDIA-CUDA/Linux-Fedora-NVIDIA-CUDA_12.jpg" class="" title="图片">



<h3 id="六、重启之后的额外操作"><a href="#六、重启之后的额外操作" class="headerlink" title="六、重启之后的额外操作"></a>六、重启之后的额外操作</h3><p>在 CSDN 的主要参考教程中，到这里直接使用 <code>nvidia-smi</code> 指令就能看到显卡在正常工作了，可是我的情况有所不同：</p>
<pre><code>1. `nvidia-smi` 可以显示，但显存为 Off 状态，且显存占用为 1MB 或 0MB；下面显示 No running processes found
1. 系统设置 - 关于本机 中，显卡型号为“llvmpipe”
1. `lsmod|grep nouveau` 没有结果，`lsmod|grep nvidia` 有正常返回（看起来是正常现象）
1. 播放视频时 CPU 占用很高，且外接显示器没有画面
</code></pre>
<p>所有的现象都表明，NVIDIA显卡驱动了，但没完全驱动！</p>
<p>我找得到的解决方式如下：</p>
<p><strong>1. 关闭BIOS中的安全启动</strong></p>
<p><strong>2. 修改 <code>/etc/default/grub</code></strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 进入纯命令行模式，登录root用户</span></span><br><span class="line">sudo nano /etc/default/grub</span><br><span class="line"></span><br><span class="line"><span class="comment"># 在GRUB_CMDLINE_LINUX项中添加：</span></span><br><span class="line">GRUB_CMDLINE_LINUX=<span class="string">&quot;nvidia-drm.modeset=1 nvidia-drm.fbdev=1&quot;</span></span><br><span class="line"></span><br><span class="line">sudo grub2-mkconfig -o /etc/grub2.cfg</span><br><span class="line">reboot</span><br></pre></td></tr></table></figure>

<p>重启之后，<code>nvidia-smi</code> 正常显示，系统设置 - 关于本机的显卡型号正常显示，外接显示器正常显示。</p>
<p><strong>（可选项）启用视频加速支持</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo dnf install nvidia-vaapi-driver libva-utils vdpauinfo</span><br><span class="line">reboot</span><br></pre></td></tr></table></figure>



<br/>

<hr>
<h2 id="安装-CUDA"><a href="#安装-CUDA" class="headerlink" title="安装 CUDA"></a>安装 CUDA</h2><blockquote>
<p>本节的主要参考：<a target="_blank" rel="noopener" href="https://blog.csdn.net/Sihang_Xie/article/details/127347139">CSDN - 【CUDA】Ubuntu系统如何安装CUDA保姆级教程(2022年最新)</a></p>
<p>本节的次要参考：<a target="_blank" rel="noopener" href="https://blog.csdn.net/aizsa111/article/details/129455363">CSDN - ubuntu22.10安装cuda出错Failed to verify gcc version. See log at &#x2F;var&#x2F;log&#x2F;cuda-installer.log for details.</a></p>
</blockquote>
<p><strong>1. 查看CUDA最高支持的版本</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvidia-smi</span><br></pre></td></tr></table></figure>

<p><strong>2. 前往 CUDA 官网</strong></p>
<a class="btn-anzhiyu larger" target="_blank" rel="noopener" href="https://developer.nvidia.com/cuda-toolkit-archive" 
  title="CUDA Toolkit Archive | NVIDIA Developer"><i class="anzhiyufont anzhiyu-icon-circle-arrow-right"></i><span>CUDA Toolkit Archive | NVIDIA Developer</span></a>

<p>这里选择小版本号最高的版本，例如我的驱动最高支持CUDA 12.4，那么我可以选择 CUDA 12.4.1</p>
<p><strong>3. 选择正确的系统版本</strong></p>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/Linux-Fedora-NVIDIA-CUDA/Linux-Fedora-NVIDIA-CUDA_13.png" class="" title="图片">

<p>这里注意最后一项 Installer Type 选择 ”runfile (local)”</p>
<p><strong>4. 输入下面给到的Linux命令</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wget https://developer.download.nvidia.com/compute/cuda/12.4.1/local_installers/cuda_12.4.1_550.54.15_linux.run</span><br><span class="line">sudo sh cuda_12.4.1_550.54.15_linux.run</span><br></pre></td></tr></table></figure>

<p>如果产生错误提示：Failed to verify gcc version. See log at &#x2F;var&#x2F;log&#x2F;cuda-installer.log for details.</p>
<p>那么将运行命令后面加上 <code> --override</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo sh cuda_12.4.1_550.54.15_linux.run --override</span><br></pre></td></tr></table></figure>

<p><strong>5. 安装选项</strong></p>
<p>弹出来第一个选择框，因为已经安装过 Nvidia 的显卡驱动了，因此选择 “continute” ，会出现下面这个对话框，选择 “accept” 。</p>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/Linux-Fedora-NVIDIA-CUDA/Linux-Fedora-NVIDIA-CUDA_14.png" class="" title="图片">

<p>摁一下空格取消叉选 Driver 安装，直接选择 Install 安装（这一步中，可以只勾选 CUDA Toolkit 12.4）：</p>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/Linux-Fedora-NVIDIA-CUDA/Linux-Fedora-NVIDIA-CUDA_15.png" class="" title="图片">

<p><strong>6. 安装成功</strong></p>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/Linux-Fedora-NVIDIA-CUDA/Linux-Fedora-NVIDIA-CUDA_16.png" class="" title="图片">

<p><strong>7. 配置环境变量</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">sudo vim ~/.bashrc</span><br><span class="line"></span><br><span class="line"><span class="comment"># 在文件末尾添加：</span></span><br><span class="line"><span class="built_in">export</span> PATH=/usr/local/cuda-11.6/bin<span class="variable">$&#123;PATH:+:<span class="variable">$&#123;PATH&#125;</span>&#125;</span></span><br><span class="line"><span class="built_in">export</span> LD_LIBRARY_PATH=/usr/local/cuda-11.6/lib64<span class="variable">$&#123;LD_LIBRARY_PATH:+:<span class="variable">$&#123;LD_LIBRARY_PATH&#125;</span>&#125;</span></span><br><span class="line"><span class="built_in">export</span> CUDA_HOME=/usr/local/cuda-11.6</span><br></pre></td></tr></table></figure>

<p><strong>8. 更新系统环境变量</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">source</span> ~/.bashrc</span><br><span class="line">sudo ldconfig</span><br></pre></td></tr></table></figure>

<p><strong>9. 验证 CUDA 是否安装成功</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvcc -V</span><br></pre></td></tr></table></figure>

<p>输出下图即为成功安装：</p>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/Linux-Fedora-NVIDIA-CUDA/Linux-Fedora-NVIDIA-CUDA_17.png" class="" title="图片">



<br/>

<hr>
<h2 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h2><p>之前做项目，在 Ubuntu 18.4 LTS 上给 3060 Super 安装驱动就忙了一整天，这次算上 Fedora 安装和折腾，前前后后也差不多用了一整天，累麻了，希望记录下来折腾的过程，以后少踩坑吧。</p>
<p>最后还是想说一句：</p>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/Linux-Fedora-NVIDIA-CUDA/Linux-Fedora-NVIDIA-CUDA_18.jpg" class="" title="图片"></article><div class="post-copyright"><div class="copyright-cc-box"><i class="anzhiyufont anzhiyu-icon-copyright"></i></div><div class="post-copyright__author_box"><a class="post-copyright__author_img" href="/" title="头像"><img class="post-copyright__author_img_back" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/./img/avatar.jpg" title="头像" alt="头像"><img class="post-copyright__author_img_front" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/./img/avatar.jpg" title="头像" alt="头像"></a><div class="post-copyright__author_name">Mitchell</div><div class="post-copyright__author_desc">生活明朗 万物可爱</div></div><div class="post-copyright__post__info"><a class="post-copyright__original" title="该文章为原创文章，注意版权协议" href="https://miqier.github.io/Linux-Fedora-NVIDIA-CUDA/">原创</a><a class="post-copyright-title"><span onclick="rm.copyPageUrl('https://miqier.github.io/Linux-Fedora-NVIDIA-CUDA/')">从安装Linux to Go到NVIDIA驱动和CUDA</span></a></div><div class="post-tools" id="post-tools"><div class="post-tools-left"><div class="rewardLeftButton"></div><div class="shareRight"><div class="share-link mobile"><div class="share-qrcode"><div class="share-button" title="使用手机访问这篇文章"><i class="anzhiyufont anzhiyu-icon-qrcode"></i></div><div class="share-main"><div class="share-main-all"><div id="qrcode" title="https://miqier.github.io/Linux-Fedora-NVIDIA-CUDA/"></div><div class="reward-dec">使用手机访问这篇文章</div></div></div></div></div><div class="share-link weibo"><a class="share-button" target="_blank" href="https://service.weibo.com/share/share.php?title=从安装Linux to Go到NVIDIA驱动和CUDA&amp;url=https://miqier.github.io/Linux-Fedora-NVIDIA-CUDA/&amp;pic=/Linux-Fedora-NVIDIA-CUDA/Linux-Fedora-NVIDIA-CUDA_0.jpg" rel="external nofollow noreferrer noopener"><i class="anzhiyufont anzhiyu-icon-weibo"></i></a></div><script>function copyCurrentPageUrl() {
  var currentPageUrl = window.location.href;
  var input = document.createElement("input");
  input.setAttribute("value", currentPageUrl);
  document.body.appendChild(input);
  input.select();
  input.setSelectionRange(0, 99999);
  document.execCommand("copy");
  document.body.removeChild(input);
}</script><div class="share-link copyurl"><div class="share-button" id="post-share-url" title="复制链接" onclick="copyCurrentPageUrl()"><i class="anzhiyufont anzhiyu-icon-link"></i></div></div></div></div></div><div class="post-copyright__notice"><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://MiQieR.github.io" target="_blank">Mitchell Blog</a>！</span></div></div><div class="post-tools-right"><div class="tag_share"><div class="post-meta__box"><div class="post-meta__box__tag-list"><a class="post-meta__box__tags" href="/tags/Linux/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>Linux<span class="tagsPageCount">2</span></a><a class="post-meta__box__tags" href="/tags/%E6%8A%98%E8%85%BE/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>折腾<span class="tagsPageCount">11</span></a><a class="post-meta__box__tags" href="/tags/CUDA/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>CUDA<span class="tagsPageCount">1</span></a><a class="post-meta__box__tags" href="/tags/NVIDIA/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>NVIDIA<span class="tagsPageCount">1</span></a></div></div></div><div class="post_share"><div class="social-share" data-image="/Nintendo-Switch-Android/Nintendo-Switch-Android_0.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"/><script src="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer="defer"></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/LLM-VRAM-Required/"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/LLM-VRAM-Required/LLM-VRAM-Required_0.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">LLM 推理和微调所需 VRAM 估算指南</div></div></a></div><div class="next-post pull-right"><a href="/MacBook-Adjustment-&amp;-Optimization/"><img class="next-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/MacBook-Adjustment-&amp;-Optimization/MacBook-Adjustment-&amp;-Optimization_0.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">对 MacBook 的调整和优化</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="anzhiyufont anzhiyu-icon-thumbs-up fa-fw" style="font-size: 1.5rem; margin-right: 4px"></i><span>喜欢这篇文章的人也看了</span></div><div class="relatedPosts-list"><div><a href="/ASUS-Router-Light-NAS/" title="华硕路由：也是轻量级NAS"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/ASUS-Router-Light-NAS/ASUS-Router-Light-NAS_0.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2022-07-16</div><div class="title">华硕路由：也是轻量级NAS</div></div></a></div><div><a href="/Chainedbox-OMV/" title="我家云安装OMV：单盘NAS"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/Chainedbox-OMV/Chainedbox-OMV_0.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2022-12-18</div><div class="title">我家云安装OMV：单盘NAS</div></div></a></div><div><a href="/Chainedbox-OpenWrt/" title="我家云安装OpenWrt：作为旁路由&#x2F;软路由+轻量化NAS"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/Chainedbox-OpenWrt/Chainedbox-OpenWrt_0.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2023-02-18</div><div class="title">我家云安装OpenWrt：作为旁路由&#x2F;软路由+轻量化NAS</div></div></a></div><div><a href="/Dell-XPS9360-Hackintosh/" title="黑苹果：戴尔XPS9360笔记本"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/Dell-XPS9360-Hackintosh/Dell-XPS9360-Hackintosh_0.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2021-09-20</div><div class="title">黑苹果：戴尔XPS9360笔记本</div></div></a></div><div><a href="/MacBook-Adjustment-&-Optimization/" title="对 MacBook 的调整和优化"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/MacBook-Adjustment-&-Optimization/MacBook-Adjustment-&-Optimization_0.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2025-08-16</div><div class="title">对 MacBook 的调整和优化</div></div></a></div><div><a href="/Meizu-Pro6Plus-Root/" title="魅族 Pro6 Plus 获取完整 Root 权限"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/Meizu-Pro6Plus-Root/Meizu-Pro6Plus-Root_0.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2023-09-03</div><div class="title">魅族 Pro6 Plus 获取完整 Root 权限</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="anzhiyufont anzhiyu-icon-comments"></i><span> 评论</span></div><div class="comment-randomInfo"><a onclick="anzhiyu.addRandomCommentInfo()" href="javascript:void(0)">匿名评论</a><a href="/privacy" style="margin-left: 4px">隐私政策</a></div><div class="comment-tips" id="comment-tips"><span>✅ 你无需删除空行，直接评论以获取最佳展示效果</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div><div class="comment-barrage"></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-content"><div class="author-info__sayhi" id="author-info__sayhi" onclick="anzhiyu.changeSayHelloText()"></div><div class="author-info-avatar"><img class="avatar-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/./img/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-status"><img class="g-status" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2023/08/24/64e6ce9c507bb.png" alt="status"/></div></div><div class="author-info__description"><div style="line-height:1.38;margin:0.6rem 0;text-align:justify;color:rgba(255, 255, 255, 0.8);">这里是Mitchell的小站，里面有<b style="color:#fff">学习、开发、AI、游戏</b>的经验和分享，还有关于<b style="color:#fff">生活</b>的思考与感悟。</div></div><div class="author-info__bottom-group"><a class="author-info__bottom-group-left" href="/about/"><h1 class="author-info__name">Mitchell</h1><div class="author-info__desc">生活明朗 万物可爱</div></a><div class="card-info-social-icons is-center"><a class="social-icon faa-parent animated-hover" href="https://github.com/MiQieR" target="_blank" title="Github"><i class="anzhiyufont anzhiyu-icon-github"></i></a><a class="social-icon faa-parent animated-hover" href="https://space.bilibili.com/32396508" target="_blank" title="BiliBili"><i class="anzhiyufont anzhiyu-icon-bilibili"></i></a></div></div></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-bullhorn anzhiyu-shake"></i><span>公告</span></div><div class="announcement_content">欢迎来看Mitchell的博客鸭~<br></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-bars"></i><span>文章目录</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Linux-to-Go-%E5%AE%89%E8%A3%85%E5%88%B0%E7%A7%BB%E5%8A%A8%E7%A1%AC%E7%9B%98"><span class="toc-number">1.</span> <span class="toc-text">Linux to Go 安装到移动硬盘</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%91%E8%A1%8C%E7%89%88%E7%9A%84%E9%80%89%E6%8B%A9"><span class="toc-number">1.1.</span> <span class="toc-text">发行版的选择</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85-Fedora-41"><span class="toc-number">1.2.</span> <span class="toc-text">安装 Fedora 41</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85-NVIDIA-%E9%A9%B1%E5%8A%A8"><span class="toc-number">2.</span> <span class="toc-text">安装 NVIDIA 驱动</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E5%87%86%E5%A4%87%E7%8E%AF%E5%A2%83"><span class="toc-number">2.1.</span> <span class="toc-text">一、准备环境</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E4%B8%8B%E8%BD%BD%E5%AE%98%E6%96%B9%E9%A9%B1%E5%8A%A8-run%E5%8C%85"><span class="toc-number">2.2.</span> <span class="toc-text">二、下载官方驱动.run包</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E7%A6%81%E7%94%A8nouveau%E5%BC%80%E6%BA%90%E6%98%BE%E5%8D%A1%E9%A9%B1%E5%8A%A8"><span class="toc-number">2.3.</span> <span class="toc-text">三、禁用nouveau开源显卡驱动</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E5%AE%89%E8%A3%85NVIDIA%E6%98%BE%E5%8D%A1%E9%A9%B1%E5%8A%A8"><span class="toc-number">2.4.</span> <span class="toc-text">四、安装NVIDIA显卡驱动</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%94%E3%80%81%E9%87%8D%E5%90%AF%E5%B9%B6%E9%AA%8C%E8%AF%81NVIDIA%E9%A9%B1%E5%8A%A8"><span class="toc-number">2.5.</span> <span class="toc-text">五、重启并验证NVIDIA驱动</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%AD%E3%80%81%E9%87%8D%E5%90%AF%E4%B9%8B%E5%90%8E%E7%9A%84%E9%A2%9D%E5%A4%96%E6%93%8D%E4%BD%9C"><span class="toc-number">2.6.</span> <span class="toc-text">六、重启之后的额外操作</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85-CUDA"><span class="toc-number">3.</span> <span class="toc-text">安装 CUDA</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%90%8E%E8%AE%B0"><span class="toc-number">4.</span> <span class="toc-text">后记</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-history"></i><span>最近发布</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/Nintendo-Switch-Android/" title="Switch 刷 Android 系统"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/Nintendo-Switch-Android/Nintendo-Switch-Android_0.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Switch 刷 Android 系统"/></a><div class="content"><a class="title" href="/Nintendo-Switch-Android/" title="Switch 刷 Android 系统">Switch 刷 Android 系统</a><time datetime="2025-09-25T13:35:29.000Z" title="发表于 2025-09-25 21:35:29">2025-09-25</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/Witcher3-Saves-Switch-to-PC/" title="无需云存档，巫师3存档 Switch 版与 PC 版互转"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/Witcher3-Saves-Switch-to-PC/Witcher3-Saves-Switch-to-PC_0.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="无需云存档，巫师3存档 Switch 版与 PC 版互转"/></a><div class="content"><a class="title" href="/Witcher3-Saves-Switch-to-PC/" title="无需云存档，巫师3存档 Switch 版与 PC 版互转">无需云存档，巫师3存档 Switch 版与 PC 版互转</a><time datetime="2025-09-04T09:19:00.000Z" title="发表于 2025-09-04 17:19:00">2025-09-04</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/MacBook-Adjustment-&amp;-Optimization/" title="对 MacBook 的调整和优化"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/MacBook-Adjustment-&amp;-Optimization/MacBook-Adjustment-&amp;-Optimization_0.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="对 MacBook 的调整和优化"/></a><div class="content"><a class="title" href="/MacBook-Adjustment-&amp;-Optimization/" title="对 MacBook 的调整和优化">对 MacBook 的调整和优化</a><time datetime="2025-08-16T14:18:26.000Z" title="发表于 2025-08-16 22:18:26">2025-08-16</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/Linux-Fedora-NVIDIA-CUDA/" title="从安装Linux to Go到NVIDIA驱动和CUDA"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/Linux-Fedora-NVIDIA-CUDA/Linux-Fedora-NVIDIA-CUDA_0.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="从安装Linux to Go到NVIDIA驱动和CUDA"/></a><div class="content"><a class="title" href="/Linux-Fedora-NVIDIA-CUDA/" title="从安装Linux to Go到NVIDIA驱动和CUDA">从安装Linux to Go到NVIDIA驱动和CUDA</a><time datetime="2025-04-12T17:50:00.000Z" title="发表于 2025-04-13 01:50:00">2025-04-13</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/LLM-VRAM-Required/" title="LLM 推理和微调所需 VRAM 估算指南"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/LLM-VRAM-Required/LLM-VRAM-Required_0.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="LLM 推理和微调所需 VRAM 估算指南"/></a><div class="content"><a class="title" href="/LLM-VRAM-Required/" title="LLM 推理和微调所需 VRAM 估算指南">LLM 推理和微调所需 VRAM 估算指南</a><time datetime="2025-03-07T14:45:37.000Z" title="发表于 2025-03-07 22:45:37">2025-03-07</time></div></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div id="workboard"><img class="workSituationImg boardsign" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://i.loli.wiki/public/240126/studying.svg" alt="距离发表SCI也就还差一个大佬带我~" title="距离发表SCI也就还差一个大佬带我~"/><div id="runtimeTextTip"></div></div><p id="ghbdages"><a class="github-badge" target="_blank" href="https://hexo.io/" style="margin-inline:5px" data-title="博客框架为Hexo v5.4.2" title="博客框架为Hexo v5.4.2"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@2.1.5/img/badge/Frame-Hexo.svg" alt="博客框架为Hexo v5.4.2"/></a><a class="github-badge" target="_blank" href="https://blog.anheyu.com/" style="margin-inline:5px" data-title="本站使用 AnZhiYu 主题" title="本站使用 AnZhiYu 主题"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.9/img/Theme-AnZhiYu-2E67D3.svg" alt="本站使用 AnZhiYu 主题"/></a><a class="github-badge" target="_blank" href="https://github.com/MiQieR/miqier.github.io/" style="margin-inline:5px" data-title="本站项目由 Github-Pages 托管" title="本站项目由 Github-Pages 托管"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@2.1.5/img/badge/Source-Github.svg" alt="本站项目由 Github-Pages 托管"/></a><a class="github-badge" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" style="margin-inline:5px" data-title="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可" title="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@2.2.0/img/badge/Copyright-BY-NC-SA.svg" alt="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可"/></a></p></div><div id="footer-bar"><div class="footer-bar-links"><div class="footer-bar-left"><div id="footer-bar-tips"><div class="copyright">&copy;2021 - 2025 By <a class="footer-bar-link" href="/" title="Mitchell" target="_blank">Mitchell</a></div></div><div id="footer-type-tips"></div></div><div class="footer-bar-right"><a class="footer-bar-link" target="_blank" rel="noopener" href="https://github.com/anzhiyu-c/hexo-theme-anzhiyu" title="主题">主题</a></div></div></div></footer></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="sidebar-site-data site-data is-center"><a href="/archives/" title="archive"><div class="headline">文章</div><div class="length-num">29</div></a><a href="/tags/" title="tag"><div class="headline">标签</div><div class="length-num">35</div></a><a href="/categories/" title="category"><div class="headline">分类</div><div class="length-num">10</div></a></div><span class="sidebar-menu-item-title">功能</span><div class="sidebar-menu-item"><a class="darkmode_switchbutton menu-child" href="javascript:void(0);" title="显示模式"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span>显示模式</span></a></div><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">网页</div><div class="back-menu-list"><a class="back-menu-item" href="https://MiQieR.github.io/about/" title="个人简介"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://ooo.0x0.ooo/2024/01/26/OvKRkv.jpg" alt="个人简介"/><span class="back-menu-item-text">个人简介</span></a><a class="back-menu-item" target="_blank" rel="noopener" href="https://space.bilibili.com/32396508" title="B站主页"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://pic.imgdb.cn/item/65b3af5d871b83018a16e135.png" alt="B站主页"/><span class="back-menu-item-text">B站主页</span></a></div></div></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 文章</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> 分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 百宝箱</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/link/"><i class="anzhiyufont anzhiyu-icon-link faa-tada" style="font-size: 0.9em;"></i><span> 小工具</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/comments/"><i class="anzhiyufont anzhiyu-icon-envelope faa-tada" style="font-size: 0.9em;"></i><span> 留言板</span></a></li><li><a class="site-page child faa-parent animated-hover" href="javascript:toRandomPost()"><i class="anzhiyufont anzhiyu-icon-shoe-prints1 faa-tada" style="font-size: 0.9em;"></i><span> 随便逛逛</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 我的</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/music/?id=10090931353&amp;server=netease"><i class="anzhiyufont anzhiyu-icon-music faa-tada" style="font-size: 0.9em;"></i><span> 云音乐</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/games/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-game"></use></svg><span> 游戏记忆</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/about/"><i class="anzhiyufont anzhiyu-icon-paper-plane faa-tada" style="font-size: 0.9em;"></i><span> 关于本人</span></a></li></ul></div></div><span class="sidebar-menu-item-title">标签</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/AI/" style="font-size: 0.88rem;">AI<sup>4</sup></a><a href="/tags/Android/" style="font-size: 0.88rem;">Android<sup>2</sup></a><a href="/tags/CUDA/" style="font-size: 0.88rem;">CUDA<sup>1</sup></a><a href="/tags/Cloudflare/" style="font-size: 0.88rem;">Cloudflare<sup>1</sup></a><a href="/tags/Git/" style="font-size: 0.88rem;">Git<sup>1</sup></a><a href="/tags/GitHub/" style="font-size: 0.88rem;">GitHub<sup>2</sup></a><a href="/tags/Hackintosh/" style="font-size: 0.88rem;">Hackintosh<sup>1</sup></a><a href="/tags/Hexo/" style="font-size: 0.88rem;">Hexo<sup>4</sup></a><a href="/tags/LLM/" style="font-size: 0.88rem;">LLM<sup>3</sup></a><a href="/tags/Linux/" style="font-size: 0.88rem;">Linux<sup>2</sup></a><a href="/tags/Mac/" style="font-size: 0.88rem;">Mac<sup>1</sup></a><a href="/tags/Markdown/" style="font-size: 0.88rem;">Markdown<sup>1</sup></a><a href="/tags/NAS/" style="font-size: 0.88rem;">NAS<sup>8</sup></a><a href="/tags/NVIDIA/" style="font-size: 0.88rem;">NVIDIA<sup>1</sup></a><a href="/tags/Root/" style="font-size: 0.88rem;">Root<sup>1</sup></a><a href="/tags/Sideload/" style="font-size: 0.88rem;">Sideload<sup>2</sup></a><a href="/tags/Switch/" style="font-size: 0.88rem;">Switch<sup>2</sup></a><a href="/tags/TrollStore/" style="font-size: 0.88rem;">TrollStore<sup>1</sup></a><a href="/tags/Windows/" style="font-size: 0.88rem;">Windows<sup>4</sup></a><a href="/tags/Xposed/" style="font-size: 0.88rem;">Xposed<sup>1</sup></a><a href="/tags/iOS/" style="font-size: 0.88rem;">iOS<sup>2</sup></a><a href="/tags/%E5%89%8D%E7%AB%AF/" style="font-size: 0.88rem;">前端<sup>4</sup></a><a href="/tags/%E5%B5%8C%E5%85%A5%E5%BC%8F/" style="font-size: 0.88rem;">嵌入式<sup>1</sup></a><a href="/tags/%E5%BC%80%E5%8F%91/" style="font-size: 0.88rem;">开发<sup>2</sup></a><a href="/tags/%E5%BC%80%E5%8F%91%E6%9D%BF/" style="font-size: 0.88rem;">开发板<sup>2</sup></a><a href="/tags/%E6%8A%80%E6%9C%AF/" style="font-size: 0.88rem;">技术<sup>1</sup></a><a href="/tags/%E6%8A%98%E8%85%BE/" style="font-size: 0.88rem;">折腾<sup>11</sup></a><a href="/tags/%E6%8D%A1%E5%9E%83%E5%9C%BE/" style="font-size: 0.88rem;">捡垃圾<sup>5</sup></a><a href="/tags/%E6%B5%81%E5%AA%92%E4%BD%93/" style="font-size: 0.88rem;">流媒体<sup>1</sup></a><a href="/tags/%E6%B8%B8%E6%88%8F/" style="font-size: 0.88rem;">游戏<sup>4</sup></a><a href="/tags/%E7%A0%B4%E8%A7%A3/" style="font-size: 0.88rem;">破解<sup>5</sup></a><a href="/tags/%E7%A1%AC%E7%9B%98/" style="font-size: 0.88rem;">硬盘<sup>2</sup></a><a href="/tags/%E7%BD%91%E7%BB%9C/" style="font-size: 0.88rem;">网络<sup>2</sup></a><a href="/tags/%E8%99%9A%E6%8B%9F%E6%9C%BA/" style="font-size: 0.88rem;">虚拟机<sup>1</sup></a><a href="/tags/%E8%B7%AF%E7%94%B1/" style="font-size: 0.88rem;">路由<sup>6</sup></a></div></div><hr/></div></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="anzhiyufont anzhiyu-icon-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="anzhiyufont anzhiyu-icon-gear"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="anzhiyufont anzhiyu-icon-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="anzhiyufont anzhiyu-icon-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div><div id="nav-music"><a id="nav-music-hoverTips" onclick="anzhiyu.musicToggle()" accesskey="m">播放音乐</a><div id="console-music-bg"></div><meting-js id="10090931353" server="netease" type="playlist" mutex="true" preload="none" theme="var(--anzhiyu-main)" data-lrctype="0" order="random" volume="0.3"></meting-js></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="anzhiyufont anzhiyu-icon-xmark"></i></button></nav><div class="is-center" id="loading-database"><i class="anzhiyufont anzhiyu-icon-spinner anzhiyu-pulse-icon"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div id="rightMenu"><div class="rightMenu-group rightMenu-small"><div class="rightMenu-item" id="menu-backward"><i class="anzhiyufont anzhiyu-icon-arrow-left"></i></div><div class="rightMenu-item" id="menu-forward"><i class="anzhiyufont anzhiyu-icon-arrow-right"></i></div><div class="rightMenu-item" id="menu-refresh"><i class="anzhiyufont anzhiyu-icon-arrow-rotate-right" style="font-size: 1rem;"></i></div><div class="rightMenu-item" id="menu-top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></div></div><div class="rightMenu-group rightMenu-line rightMenuPlugin"><div class="rightMenu-item" id="menu-copytext"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制选中文本</span></div><div class="rightMenu-item" id="menu-pastetext"><i class="anzhiyufont anzhiyu-icon-paste"></i><span>粘贴文本</span></div><a class="rightMenu-item" id="menu-commenttext"><i class="anzhiyufont anzhiyu-icon-comment-medical"></i><span>引用到评论</span></a><div class="rightMenu-item" id="menu-newwindow"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开</span></div><div class="rightMenu-item" id="menu-copylink"><i class="anzhiyufont anzhiyu-icon-link"></i><span>复制链接地址</span></div><div class="rightMenu-item" id="menu-copyimg"><i class="anzhiyufont anzhiyu-icon-images"></i><span>复制此图片</span></div><div class="rightMenu-item" id="menu-downloadimg"><i class="anzhiyufont anzhiyu-icon-download"></i><span>下载此图片</span></div><div class="rightMenu-item" id="menu-newwindowimg"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开图片</span></div><div class="rightMenu-item" id="menu-search"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>站内搜索</span></div><div class="rightMenu-item" id="menu-searchBaidu"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>百度搜索</span></div><div class="rightMenu-item" id="menu-music-toggle"><i class="anzhiyufont anzhiyu-icon-play"></i><span>播放音乐</span></div><div class="rightMenu-item" id="menu-music-back"><i class="anzhiyufont anzhiyu-icon-backward"></i><span>切换到上一首</span></div><div class="rightMenu-item" id="menu-music-forward"><i class="anzhiyufont anzhiyu-icon-forward"></i><span>切换到下一首</span></div><div class="rightMenu-item" id="menu-music-playlist" onclick="window.open(&quot;https://music.163.com/#/playlist?id=10090931353&quot;, &quot;_blank&quot;);" style="display: none;"><i class="anzhiyufont anzhiyu-icon-radio"></i><span>查看所有歌曲</span></div><div class="rightMenu-item" id="menu-music-copyMusicName"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制歌名</span></div></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item menu-link" id="menu-randomPost"><i class="anzhiyufont anzhiyu-icon-shuffle"></i><span>随便逛逛</span></a><a class="rightMenu-item menu-link" href="/categories/"><i class="anzhiyufont anzhiyu-icon-cube"></i><span>博客分类</span></a><a class="rightMenu-item menu-link" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags"></i><span>文章标签</span></a></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item" id="menu-copy" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制地址</span></a><a class="rightMenu-item" id="menu-commentBarrage" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-message"></i><span class="menu-commentBarrage-text">关闭热评</span></a><a class="rightMenu-item" id="menu-darkmode" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span class="menu-darkmode-text">深色模式</span></a><a class="rightMenu-item" id="menu-translate" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-language"></i><span>轉為繁體</span></a></div></div><div id="rightmenu-mask"></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.cbd.int/@fancyapps/ui@5.0.28/dist/fancybox/fancybox.umd.js"></script><script src="https://cdn.cbd.int/instant.page@5.2.0/instantpage.js" type="module"></script><script src="https://cdn.cbd.int/vanilla-lazyload@17.8.5/dist/lazyload.iife.min.js"></script><script src="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.cbd.int/pangu@4.0.7/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><canvas id="universe"></canvas><script async src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/dark/dark.js"></script><script>// 消除控制台打印
var HoldLog = console.log;
console.log = function () {};
let now1 = new Date();
queueMicrotask(() => {
  const Log = function () {
    HoldLog.apply(console, arguments);
  }; //在恢复前输出日志
  const grt = new Date("07/21/2021 00:00:00"); //此处修改你的建站时间或者网站上线时间
  now1.setTime(now1.getTime() + 250);
  const days = (now1 - grt) / 1000 / 60 / 60 / 24;
  const dnum = Math.floor(days);
  const ascll = [
    `欢迎使用安知鱼!`,
    `生活明朗, 万物可爱`,
    `
        
       █████╗ ███╗   ██╗███████╗██╗  ██╗██╗██╗   ██╗██╗   ██╗
      ██╔══██╗████╗  ██║╚══███╔╝██║  ██║██║╚██╗ ██╔╝██║   ██║
      ███████║██╔██╗ ██║  ███╔╝ ███████║██║ ╚████╔╝ ██║   ██║
      ██╔══██║██║╚██╗██║ ███╔╝  ██╔══██║██║  ╚██╔╝  ██║   ██║
      ██║  ██║██║ ╚████║███████╗██║  ██║██║   ██║   ╚██████╔╝
      ╚═╝  ╚═╝╚═╝  ╚═══╝╚══════╝╚═╝  ╚═╝╚═╝   ╚═╝    ╚═════╝
        
        `,
    "已上线",
    dnum,
    "天",
    "©2021 By 安知鱼 V1.6.14",
  ];
  const ascll2 = [`NCC2-036`, `调用前置摄像头拍照成功，识别为【小笨蛋】.`, `Photo captured: `, `🤪`];

  setTimeout(
    Log.bind(
      console,
      `\n%c${ascll[0]} %c ${ascll[1]} %c ${ascll[2]} %c${ascll[3]}%c ${ascll[4]}%c ${ascll[5]}\n\n%c ${ascll[6]}\n`,
      "color:#425AEF",
      "",
      "color:#425AEF",
      "color:#425AEF",
      "",
      "color:#425AEF",
      ""
    )
  );
  setTimeout(
    Log.bind(
      console,
      `%c ${ascll2[0]} %c ${ascll2[1]} %c \n${ascll2[2]} %c\n${ascll2[3]}\n`,
      "color:white; background-color:#4fd953",
      "",
      "",
      'background:url("https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/tinggge.gif") no-repeat;font-size:450%'
    )
  );

  setTimeout(Log.bind(console, "%c WELCOME %c 你好，小笨蛋.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(
      console,
      "%c ⚡ Powered by 安知鱼 %c 你正在访问 Mitchell 的博客.",
      "color:white; background-color:#f0ad4e",
      ""
    )
  );

  setTimeout(Log.bind(console, "%c W23-12 %c 你已打开控制台.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(console, "%c S013-782 %c 你现在正处于监控中.", "color:white; background-color:#d9534f", "")
  );
});</script><script async src="/anzhiyu/random.js"></script><script async="async">(function () {
  var grt = new Date("07/21/2021 00:00:00"); //设置网站上线时间
  var now = new Date();
  var dnum;
  var hnum;
  var mnum;
  var snum;
  var nowHour;

  // 计算并更新天数、小时数、分钟数和秒数
  function updateTime() {
    now = new Date(); // 更新 now 的值
    nowHour = now.getHours(); // 更新 nowHour 的值
    var days = (now - grt) / 1000 / 60 / 60 / 24;
    dnum = Math.floor(days);
    var hours = (now - grt) / 1000 / 60 / 60 - 24 * dnum;
    hnum = Math.floor(hours);
    if (String(hnum).length == 1) {
      hnum = "0" + hnum;
    }
    var minutes = (now - grt) / 1000 / 60 - 24 * 60 * dnum - 60 * hnum;
    mnum = Math.floor(minutes);
    if (String(mnum).length == 1) {
      mnum = "0" + mnum;
    }
    var seconds = (now - grt) / 1000 - 24 * 60 * 60 * dnum - 60 * 60 * hnum - 60 * mnum;
    snum = Math.round(seconds);
    if (String(snum).length == 1) {
      snum = "0" + snum;
    }
  }

  // 更新网页中显示的网站运行时间
  function updateHtml() {
    const footer = document.getElementById("footer");
    if (!footer) return
    let currentTimeHtml = "";
    if (nowHour < 18 && nowHour >= 9) {
      // 如果是上班时间，默认就是"安知鱼-上班摸鱼中.svg"图片，不需要更改
      currentTimeHtml = `本站居然运行了 ${dnum} 天<span id='runtime'> ${hnum} 小时 ${mnum} 分 ${snum} 秒 </span><i class='anzhiyufont anzhiyu-icon-heartbeat' style='color:red'></i>`;
    } else {
      // 如果是下班时间，插入"安知鱼-下班啦.svg"图片
      let img = document.querySelector("#workboard .workSituationImg");
      if (img != null) {
        img.src = "https://i.loli.wiki/public/240126/chilling.svg";
        img.title = "下班了就该开开心心的玩耍，嘿嘿~";
        img.alt = "下班了就该开开心心的玩耍，嘿嘿~";
      }

      currentTimeHtml = `本站居然运行了 ${dnum} 天<span id='runtime'> ${hnum} 小时 ${mnum} 分 ${snum} 秒 </span><i class='anzhiyufont anzhiyu-icon-heartbeat' style='color:red'></i>`;
    }

    if (document.getElementById("runtimeTextTip")) {
      document.getElementById("runtimeTextTip").innerHTML = currentTimeHtml;
    }
  }

  setInterval(() => {
    updateTime();
    updateHtml();
  }, 1000);
})();</script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>(() => {
  const init = () => {
    twikoo.init(Object.assign({
      el: '#twikoo-wrap',
      envId: 'https://996luoxuhe-anzhiyublogcomments.hf.space',
      region: '',
      onCommentLoaded: () => {
        anzhiyu.loadLightbox(document.querySelectorAll('#twikoo .tk-content img:not(.tk-owo-emotion)'))
      }
    }, null))
  }

  const loadTwikoo = () => {
    if (typeof twikoo === 'object') setTimeout(runFn,0)
    else getScript('https://cdn.cbd.int/twikoo@1.6.39/dist/twikoo.all.min.js').then(runFn)
  }

  const getCount = () => {
    const countELement = document.getElementById('twikoo-count')
    if(!countELement) return
    twikoo.getCommentsCount({
      envId: 'https://996luoxuhe-anzhiyublogcomments.hf.space',
      region: '',
      urls: [window.location.pathname],
      includeReply: false
    }).then(res => {
      countELement.textContent = res[0].count
    }).catch(err => {
      console.error(err)
    })
  }

  const runFn = () => {
    init();
    GLOBAL_CONFIG_SITE.isPost && getCount()
  }

  if ('Twikoo' === 'Twikoo' || !false) {
    if (false) anzhiyu.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else {
      loadTwikoo()
    }
  } else {
    window.loadOtherComment = loadTwikoo
  }
})()</script><input type="hidden" name="page-type" id="page-type" value="post"></div><script>window.addEventListener('load', () => {
  const changeContent = (content) => {
    if (content === '') return content

    content = content.replace(/<img.*?src="(.*?)"?[^\>]+>/ig, '[图片]') // replace image link
    content = content.replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi, '[链接]') // replace url
    content = content.replace(/<pre><code>.*?<\/pre>/gi, '[代码]') // replace code
    content = content.replace(/<[^>]+>/g,"") // remove html tag

    if (content.length > 150) {
      content = content.substring(0,150) + '...'
    }
    return content
  }

  const getComment = () => {
    const runTwikoo = () => {
      twikoo.getRecentComments({
        envId: 'https://996luoxuhe-anzhiyublogcomments.hf.space',
        region: '',
        pageSize: 6,
        includeReply: true
      }).then(function (res) {
        const twikooArray = res.map(e => {
          return {
            'content': changeContent(e.comment),
            'avatar': e.avatar,
            'nick': e.nick,
            'url': e.url + '#' + e.id,
            'date': new Date(e.created).toISOString()
          }
        })

        saveToLocal.set('twikoo-newest-comments', JSON.stringify(twikooArray), 10/(60*24))
        generateHtml(twikooArray)
      }).catch(function (err) {
        const $dom = document.querySelector('#card-newest-comments .aside-list')
        $dom.textContent= "无法获取评论，请确认相关配置是否正确"
      })
    }

    if (typeof twikoo === 'object') {
      runTwikoo()
    } else {
      getScript('https://cdn.cbd.int/twikoo@1.6.39/dist/twikoo.all.min.js').then(runTwikoo)
    }
  }

  const generateHtml = array => {
    let result = ''

    if (array.length) {
      for (let i = 0; i < array.length; i++) {
        result += '<div class=\'aside-list-item\'>'

        if (true) {
          const name = 'data-lazy-src'
          result += `<a href='${array[i].url}' class='thumbnail'><img ${name}='${array[i].avatar}' alt='${array[i].nick}'><div class='name'><span>${array[i].nick} </span></div></a>`
        }
        
        result += `<div class='content'>
        <a class='comment' href='${array[i].url}' title='${array[i].content}'>${array[i].content}</a>
        <time datetime="${array[i].date}">${anzhiyu.diffDate(array[i].date, true)}</time></div>
        </div>`
      }
    } else {
      result += '没有评论'
    }

    let $dom = document.querySelector('#card-newest-comments .aside-list')
    $dom && ($dom.innerHTML= result)
    window.lazyLoadInstance && window.lazyLoadInstance.update()
    window.pjax && window.pjax.refresh($dom)
  }

  const newestCommentInit = () => {
    if (document.querySelector('#card-newest-comments .aside-list')) {
      const data = saveToLocal.get('twikoo-newest-comments')
      if (data) {
        generateHtml(JSON.parse(data))
      } else {
        getComment()
      }
    }
  }

  newestCommentInit()
  document.addEventListener('pjax:complete', newestCommentInit)
})</script><script async data-pjax src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.1/bubble/bubble.js"></script><script>var visitorMail = "";
</script><script async data-pjax src="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/waterfall/waterfall.js"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/qrcodejs/1.0.0/qrcode.min.js"></script><script src="/js/anzhiyu/right_click_menu.js"></script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.9/icon/ali_iconfont_css.css"><script async src="https://at.alicdn.com/t/c/font_4422647_dcmrc0z2wr.js?spm=a313x.manage_type_myprojects.i1.10.54df3a810aqLPk&amp;file=font_4422647_dcmrc0z2wr.js"></script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/aplayer/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.cbd.int/anzhiyu-blog-static@1.0.1/js/APlayer.min.js"></script><script src="https://cdn.cbd.int/hexo-anzhiyu-music@1.0.1/assets/js/Meting2.min.js"></script><script src="https://cdn.cbd.int/pjax@0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["meta[property=\"og:image\"]","meta[property=\"og:title\"]","meta[property=\"og:url\"]","meta[property=\"og:type\"]","meta[property=\"og:site_name\"]","meta[property=\"og:description\"]","head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]
var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {
  // removeEventListener scroll 
  anzhiyu.removeGlobalFnEvent('pjax')
  anzhiyu.removeGlobalFnEvent('themeChange')

  document.getElementById('rightside').classList.remove('rightside-show')
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', e => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script charset="UTF-8" src="https://cdn.cbd.int/anzhiyu-theme-static@1.1.5/accesskey/accesskey.js"></script></div><div id="popup-window"><div class="popup-window-title">通知</div><div class="popup-window-divider"></div><div class="popup-window-content"><div class="popup-tip">你好呀</div><div class="popup-link"><i class="anzhiyufont anzhiyu-icon-arrow-circle-right"></i></div></div></div></body></html>